(function(n){var r=[{featureType:"road.highway",elementType:"geometry",stylers:[{saturation:-100},{lightness:10}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"simplified"},{saturation:-99},{lightness:-9}]},{featureType:"administrative.neighborhood",stylers:[{saturation:-81},{lightness:29}]},{featureType:"poi",stylers:[{visibility:"on"},{lightness:25},{saturation:-15}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{saturation:-100},{lightness:4}]},{featureType:"road.arterial",elementType:"labels",stylers:[{lightness:19},{saturation:-95}]},{featureType:"water",stylers:[{lightness:29},{saturation:-31}]}],i=[{featureType:"road.highway",elementType:"geometry",stylers:[{saturation:-100},{lightness:11}]},{featureType:"road.highway",elementType:"labels",stylers:[{saturation:-100},{lightness:-9},{visibility:"off"}]},{featureType:"administrative.neighborhood",stylers:[{saturation:-80},{lightness:29}]},{featureType:"poi",stylers:[{visibility:"on"},{saturation:-26},{lightness:70}]},{featureType:"road.arterial",elementType:"labels",stylers:[{lightness:18},{saturation:-89}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:6}]},{featureType:"water",stylers:[{lightness:29},{saturation:-31}]},{featureType:"road.arterial",stylers:[{visibility:"off"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",stylers:[{visibility:"off"},]},{featureType:"landscape.natural",stylers:[{hue:"#ff0000"},{lightness:100}]},{featureType:"landscape.man_made",stylers:[{visibility:"off"}]}],t={init:function(u){return this.each(function(){function o(){var y={scrollwheel:!1,addressControlOptions:{position:google.maps.ControlPosition.BOTTOM_CENTER},panControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},enableCloseButton:!0,visible:!1},p={mapStyle:i,panoOptions:y,enableStreetView:!1,streetViewContainer:null,streetViewInitialLocation:null,disableDefaultUI:!0,scrollwheelEnabled:!1,enableBasicControls:!0,initialZoom:11,mapCenter:new google.maps.LatLng(39.77,-104.99),onComplete:null,markers:[]},o=n.extend(p,u),h=null,w=f.data("gmap"),b={zoom:o.initialZoom,styles:o.mapStyle,center:o.mapCenter,disableDefaultUI:o.disableDefaultUI,mapTypeId:google.maps.MapTypeId.ROADMAP,scaleControl:!1,scrollwheel:o.scrollwheelEnabled,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},panControl:!1,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP,style:google.maps.ControlPosition.SMALL},mapTypeControl:!1,streetViewControl:!1},s,a,v,l;if(!w){if(s=new google.maps.Map(e,b),o.enableStreetView){if(h=new google.maps.StreetViewPanorama(o.streetViewContainer==null?e:o.streetViewContainer,o.panoOptions),!IsUndefinedOrNull(o.streetViewInitialLocation)){var c=new google.maps.LatLng(o.streetViewInitialLocation.Lat,o.streetViewInitialLocation.Lng),k=new google.maps.StreetViewService;k.getPanoramaByLocation(c,49,function(t,i){var r,u;i===google.maps.StreetViewStatus.OK?(r=c,c=t.location.latLng,u=google.maps.geometry.spherical.computeHeading(c,r),h.setPosition(c),h.setPov({heading:u,zoom:1,pitch:0})):(h.setVisible(!1),n(o.streetViewContainer).append('<div class="noPano icon icon-warning">Street View is not available for this address.<\/div>'))})}s.setOptions({streetViewControl:!0}),o.streetViewContainer==null&&s.setStreetView(h),h.setVisible(!0)}styleOptions={name:"PL_Style_Clean"},a=new google.maps.StyledMapType(i,styleOptions),s.mapTypes.set("PL_Style_Clean",a),s.setMapTypeId("PL_Style_Clean"),styleOptions2={name:"PL_Style"},v=new google.maps.StyledMapType(r,styleOptions2),s.mapTypes.set("PL_Style",v),f.data("gmap",{target:f,googleMap:s,settings:o,googleMarkers:[],bounds:new google.maps.LatLngBounds,panorama:h}),l=!0,google.maps.event.addListener(s,"zoom_changed",function(){var n=this.getZoom();n<10?l||(this.setMapTypeId("PL_Style_Clean"),l=!0):l&&(this.setMapTypeId("PL_Style"),l=!1)}),o.markers&&o.markers.length&&t.drawMarkers.call(f,o.markers),n.isFunction(o.onComplete)&&o.onComplete.call(e,s)}}var f=n(this),e=this;o()})},drawMarkers:function(i){function a(n){var t,i;if(n&&(t=n.data(),t))return t.isprice&&t.isprice==!0||t.isprice=="true"?(i=parseInt(t.label.replace(/[^\d.]/g,""),10),formatShortPrice(i)):t.label}var c=this,l=n(c),r=l.data("gmap"),e=r.googleMap,o,u,s,h,f;for(r.bounds==null&&(r.bounds=new google.maps.LatLngBounds),o=0;o<i.length;o++)u=i[o],s=n("#pt_"+u.ID),u.LatLng.X!=0&&u.LatLng.Y!=0&&(h=new google.maps.LatLng(u.LatLng.X,u.LatLng.Y),f=new MarkerWithLabel({position:h,map:e,flat:!0,icon:{url:"/Img/Public/markerArrow.png",size:new google.maps.Size(10,10),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,10)},labelAnchor:new google.maps.Point(0,25),labelContent:a(s),labelClass:"gmapLabel",labelStyle:{opacity:.95,backgroundColor:"#8A1F03"}}),f.pairedElement=s,r.bounds.extend(h),r.googleMarkers.push(f),t._bindMarkerEvents(f,r),s.data("googleMarker",f));r.googleMarkers.length>1?e.fitBounds(r.bounds):r.googleMarkers.length==1&&(e.panTo(r.googleMarkers[0].getPosition()),e.setZoom(15))},clearMarkers:function(){var u=this,f=n(u),i=f.data("gmap"),r=i.googleMarkers,t;if(r.length)for(t=0;t<r.length;t++)r[t].setMap(null);i.googleMarkers=[],i.bounds=null},_bindMarkerEvents:function(n){google.maps.event.addListener(n,"click",function(n){if(!n.preventTrigger){var t=this.pairedElement;t&&t!=null&&t.trigger("markerClick")}}),google.maps.event.addListener(n,"dblclick",function(n){if(!n.preventTrigger){var t=this.pairedElement;t&&t!=null&&t.trigger("markerDblClick")}}),google.maps.event.addListener(n,"mouseover",function(t){if(!t.preventTrigger){var i=this.pairedElement;i&&i!=null&&i.trigger("markerMouseover")}n.setOptions({labelStyle:{opacity:.95,backgroundColor:"#A14C35"}})}),google.maps.event.addListener(n,"mouseout",function(t){if(!t.preventTrigger){var i=this.pairedElement;i&&i!=null&&i.trigger("markerMouseout")}n.setOptions({labelStyle:{opacity:.95,backgroundColor:"#8A1F03"}})})},getMapData:function(){var r=this.length,i,t;if(r==1)return n(this).data("gmap");for(i=[],t=0;t<r.length;t++)i.push(this[t].data("gmap"));return i},resize:function(){return this.each(function(){var t=n(this),i=t.data("gmap");google.maps.event.trigger(i.googleMap,"resize")})}};n.fn.googleMap=function(i){if(t[i])return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.googleMap");else return t.init.apply(this,arguments)}})(jQuery);